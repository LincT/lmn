<!-- this extends the base html page -->
{% extends 'lmn/base.html' %}

<!-- this inserts the content into the base html block section -->
{% block content %}

<!-- header for the venues list -->
<h2>Venue List</h2>

<div>
<P>Venue Search</P>

<!-- The form fields are built from the definition in forms.py -->
<form action="{% url 'lmn:venue_list' %}">
  {{ form }}
  <input type='submit' value='Search'/>
</form>
</div>


<!-- if statement if a search is made  -->
{% if search_term %}
  <h2 id="venue_list_title">Venues matching '{{ search_term }}'  <a href="{% url 'lmn:venue_list' %}" id='clear_search'>clear</a></h2>

<!-- else statement if the venues linked is clicked -->
{% else %}
  <h2 id="venue_list_title">All venues</h2>
{% endif %}

<div>

<!-- loop to print out the venues -->
{% for venue in venues %}

<!-- setting the id to current venue -->
<div id="venue_{{ venue.pk }}">
  <!-- link to the venue -->
  <P><a href="{% url 'lmn:venue_detail' venue_pk=venue.pk %}">{{ venue.name }}</a>
  {{ venue.city }}, {{ venue.state }}</p>
  <!-- link to the artists and notes -->
  <P>See artists, notes, and add your own <a href='{% url "lmn:artists_at_venue" venue_pk=venue.pk %}'>{{ venue.name }} notes</a>
</p>
</div>

<!-- this is printed out for the user if there are no venues in the list -->
{% empty %}
  <P>No venues found</p>
{% endfor %}

</div>

{% endblock %}
